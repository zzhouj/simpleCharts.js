/* simpleCharts.js 0.0.1 2014-05-27 */
!function(a){var b,c,d;b=function(a){a=a||{};var b=document.getElementById(a.id);if(null!=b&&null!=b.getContext){0!==a.progress&&(a.progress=a.progress||100),0!==a.duration&&(a.duration=a.duration||1e3),a.fps=60,a.fontSize=a.fontSize||14,a.series=a.series||{},a.series.data=a.series.data||[],a.series.color=a.series.color||"#808080",a.xAxis=a.xAxis||{},a.xAxis.categories=a.xAxis.categories||[],a.xAxis.color=a.xAxis.color||"#808080",a.yAxis=a.yAxis||{},a.yAxis.color=a.yAxis.color||"#808080",a.yAxis.lineColor=a.yAxis.lineColor||"#808080",a.yAxis.step=a.yAxis.step||5,a.width=b.width,a.height=b.height,a.context=b.getContext("2d"),c(a);var e=function(){a.current<a.progress&&a.duration>0?(d(a),a.current+=a.progress*(1e3/a.fps)/a.duration,b.setAttribute("data-requestID",requestAnimationFrame(e))):(a.current=a.progress,d(a),b.removeAttribute("data-requestID"))};cancelAnimationFrame(b.getAttribute("data-requestID")),a.current=0,e()}},c=function(a){var b=a.series.data,c=a.yAxis.step;if(b.length<=0)a.yAxis.range=[100,100-c];else{for(var d=b[0],e=b[0],f=1;f<b.length;f++)d>b[f]&&(d=b[f]),e<b[f]&&(e=b[f]);for(;a.height/((e-d)/c+3)<1.5*a.fontSize;)a.yAxis.step=c*=2;d=Math.floor(d/c)*c;for(var g=[];e>d;d+=c)g.unshift(d);g.unshift(d),1===g.length&&(100===d?g.push(d-c):g.unshift(d+c)),a.yAxis.range=g}},d=function(a){var b=a.width,c=a.height,d=a.context,e=a.fontSize,f=a.series,g=a.xAxis,h=a.yAxis,i=a.current,j=a.progress,k=h.range.length+2,l=Math.floor(c/k);d.save(),d.clearRect(0,0,b,c),d.font=""+e+"px arial",d.textBaseline="middle";for(var m=d.measureText("ww"+h.range[0]).width,n=0;k>n;n++){var o=Math.floor((n+.5)*l)+.5;0==n?h.title&&(d.fillStyle=h.color,d.textAlign="left",d.fillText(h.title,e/4,o)):n<=h.range.length&&(d.fillStyle=h.color,d.textAlign="center",d.fillText(h.range[n-1],m/2,o),d.beginPath(),d.moveTo(m,o),d.lineTo(b-m,o),d.strokeStyle=h.lineColor,d.stroke())}d.beginPath(),d.rect(0,0,i*b/j,c),d.clip();var p=f.data;if(p.length>0)for(var q=g.categories[g.categories.length-1],r=d.measureText("w"+(q?q:"")).width,s=Math.floor((b-2*m)/r),t=Math.ceil(p.length/s),u=(b-2*m)/p.length,v=Math.floor((k-.5)*l)+.5,n=0;n<p.length;n++){var w=Math.floor(m+(n+.5)*u)+.5,o=Math.floor((1.5+(h.range[0]-p[n])/h.step)*l)+.5;n>0&&(d.lineTo(w,o),d.strokeStyle=f.color,d.lineWidth=1.5,d.stroke()),d.beginPath(),d.arc(w,o,2.5,0,2*Math.PI),d.fillStyle=f.color,d.fill(),n%t===0&&(d.fillStyle=f.color,d.textBaseline="bottom",d.textAlign="center",0===n?n+1<p.length&&p[n+1]>p[n]&&(d.textBaseline="top"):n===p.length-1?p[n-1]>p[n]&&(d.textBaseline="top"):p[n-1]>p[n]?p[n]>=p[n+1]?d.textAlign="left":d.textBaseline="top":p[n]<p[n+1]&&(d.textAlign="right"),d.fillText(""+p[n]+(f.suffix?f.suffix:""),w,o+("bottom"===d.textBaseline?-(e/4):e/4)),d.fillStyle=g.color,d.textBaseline="middle",d.textAlign="center",d.fillText(g.categories[n]?g.categories[n]:"",w,v)),d.beginPath(),d.moveTo(w,o)}d.restore()},a.simpleCharts=b}(this);